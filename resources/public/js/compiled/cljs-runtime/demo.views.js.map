{"version":3,"sources":["demo/views.cljs"],"mappings":";AAOA,kBAAA,lBAAMA,4CAAMC,IAAIC;AAAhB,AACC,IAAMC,QAAM,sDAAA,mFAAA,zIAACC;AAAb,AAAA,0FAAA,4DAAA,2CAAA,6DAAA;AAAA,AAEuB,8BAAA,mFAAA,1GAACC,sLAAkC,kDAAA,LAAKJ,qDAAQC;GAFvE,oDAGiB,+CAAA,/CAACI,gEACS,+CAAA,AAAAC,uBAAA,mFAAA,zJAACC,+DAAQL,+IAAa,AAACM,gDAAQ,kDAAA,LAAKR,qDAAQC;;AAExE,iBAAA,jBAAMQ,0CAAKC,EAAEC;AAAb,AAAA,0FAAA,mDAAA,2CAAA,oDACc,+CAAA,/CAACN,+DACZ,AAACO,8CAAM,4CAAA,WAAAC,vDAACC;AAAD,AAAM,yBAAAD,lBAACd,gBAAKW;GAAK,AAACK,8CAAMJ;;AAElC,kBAAA,lBAAMK;AAAN,AACA,OAACJ,8CAAM,4CAAA,WAAAK,vDAACH;AAAD,AAAM,sBAAAG,iBAAA,hCAACR;GAAU,8CAAA,9CAACM;;AAEzB,uBAAA,vBAAMG;AAAN,AAAA,0FAAA,yDAAA,2CAAA,6DAAA;AAAA,AACuB,8BAAA,mFAAA,1GAACd;WADxB;;AAGA,wBAAA,xBAAMe;AAAN,AACE,IAAMC,OAAK,sDAAA,mFAAA,zIAACjB;IACNkB,OAAK,sDAAA,mFAAA,zIAAClB;IACNmB,SAAO,sDAAA,mFAAA,zIAACnB;AAFd,AAAA,0FAAA,mDAAA,2CAAA,uDAAA,iBAAA,mFAAA,kDAAA,2BAAA,mFAAA,iDAKQ,4CAAA,AAAAG,gBAAMgB,iBACX,EAAA,AAAAC,cAAA,AAAAjB,+CAAA,/BAASe,QAAK,AAAI,AAACH,6BACnB,kBAAA,AAAAZ,uBAAA,PAAOe,OAAK,AAACT,8CAAM,4CAAA,WAAAY,vDAACV;AAAD,AAAM,sBAAAU,iBAAA,hCAACf;yDAA1B,tDAAoC,8CAAA,9CAACM","names":["demo.views/cell","row","col","state","re_frame.core.subscribe","re-frame.core/dispatch","cljs.core.gensym","cljs.core/deref","cljs.core.get_in","cljs.core.keyword","demo.views/row","n","max","cljs.core.doall","p1__29799#","cljs.core.map","cljs.core.range","demo.views/game","p1__29800#","demo.views/findmatch","demo.views/main-panel","name","game","result","cljs.core/not","p1__29801#"],"sourcesContent":["(ns demo.views\r\n  (:require\r\n   [re-frame.core :as re-frame]\r\n   [demo.subs :as subs]\r\n   [demo.events :as events]\r\n   ))\r\n\r\n(defn cell [row col]\r\n (let [state (re-frame/subscribe [::subs/gamemarkers])]\r\n  [:td.cell {\r\n             :on-click #(re-frame/dispatch [::events/shoot (str row \".\" col)])\r\n             :key (gensym \"cell_\")}\r\n                            (get-in @state [:game (keyword (str row \".\" col))])]))\r\n\r\n(defn row [n max]\r\n  [:div {:key (gensym \"row_\")}\r\n   (doall (map #(cell n %) (range max)))])\r\n\r\n(defn game []\r\n(doall (map #(row % 20) (range 20))))\r\n\r\n(defn findmatch []\r\n  [:button {:on-click #(re-frame/dispatch [::events/connect-websocket])} \"Find Match!\"])\r\n\r\n(defn main-panel []\r\n  (let [name (re-frame/subscribe [::subs/name])\r\n        game (re-frame/subscribe [::subs/in-game])\r\n        result (re-frame/subscribe [::subs/result])]\r\n    [:div {:align \"center\"}\r\n     [:h1 \"Raaka Ristinolla\"]\r\n     [:h2 (str @result)]\r\n     (if-not @game (do (findmatch)))\r\n     (when @game (doall (map #(row % 20) (range 20))))]))\r\n"]}